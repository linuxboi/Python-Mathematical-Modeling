from trafficSimulator import *

sim = Simulation()

sim.create_roads([
    ((0, 100), (48, 100)), #main 1-
    ((48, 100), (100, 100)),#main 1+,2-
    ((100, 100), (148, 100)),#main 2+3-
    ((148, 100), (198, 100)),#main 3+4-
    ((198, 100), (300, 100)),#main 4+
    
    ((50, 0), (50, 98)), #1-down
    ((50, 174), (50, 250)),#1-up

    ((102, 0), (102, 98)), #2-down
    ((102, 174), (102, 250)),#2-up

    ((150, 0), (150, 98)), #3-down
    ((150, 174), (150, 250)),#3-up

    ((200, 0), (200, 98)), #4-down
    ((200, 174), (200, 250)),#4-up

    ((0, 103), (48, 103)), #main 1-
    ((48, 103), (100, 103)),#main 1+,2-
    ((100, 103), (148, 103)),#main 2+3-
    ((148, 103), (198, 103)),#main 3+4-
    ((198, 103), (300, 103)),#main 4+

    ((0, 106), (48, 106)), #main 1-
    ((48, 106), (100, 106)),#main 1+,2-
    ((100, 106), (148, 106)),#main 2+3-
    ((148, 106), (198, 106)),#main 3+4-
    ((198, 106), (300, 106)),#main 4+

    ((300, 109), (206, 109)), #main 4+
    ((206, 109), (156, 109)), #main 3+4-
    ((156, 109), (108, 109)), #main 2+3-
    ((108, 109), (56, 109)),  #main 1+,2-
    ((56, 109), (0, 109)),    #main 1-

    ((300, 112), (206, 112)), #main 4+
    ((206, 112), (156, 112)), #main 3+4-
    ((156, 112), (108, 112)), #main 2+3-
    ((108, 112), (56, 112)),  #main 1+,2-
    ((56, 112), (0, 112)),    #main 1-
    
    ((300, 115), (206, 115)), #main 4+
    ((206, 115), (156, 115)), #main 3+4-
    ((156, 115), (108, 115)), #main 2+3-
    ((108, 115), (56, 115)),  #main 1+,2-
    ((56, 115), (0, 115)),    #main 1-

    ((53, 250), (53, 186)), #1-down
    ((53, 118), (53, 0)),#1-up

    ((105, 250), (105, 186)), #2-down
    ((105, 118), (105, 0)),#2-up

    ((153, 250), (153, 186)), #3-down
    ((153, 118), (153, 0)),#3-up

    ((203, 250), (203, 186)), #4-down
    ((203, 118), (203, 0)),#4-up

    ((0, 174), (48, 174)), #main 1-
    ((48, 174), (100, 174)),#main 1+,2-
    ((100, 174), (148, 174)),#main 2+3-
    ((148, 174), (198, 174)),#main 3+4-
    ((198, 174), (300, 174)),#main 4+

    ((0, 177), (48, 177)), #main 1-
    ((48, 177), (100, 177)),#main 1+,2-
    ((100, 177), (148, 177)),#main 2+3-
    ((148, 177), (198, 177)),#main 3+4-
    ((198, 177), (300, 177)),#main 4+

    ((300, 180), (206, 180)), #main 4+
    ((206, 180), (156, 180)), #main 3+4-
    ((156, 180), (108, 180)), #main 2+3-
    ((108, 180), (56, 180)),  #main 1+,2-
    ((56, 180), (0, 180)),    #main 1-

    ((300, 183), (206, 183)), #main 4+
    ((206, 183), (156, 183)), #main 3+4-
    ((156, 183), (108, 183)), #main 2+3-
    ((108, 183), (56, 183)),  #main 1+,2-
    ((56, 183), (0, 183)),    #main 1-

    ((50, 98), (50, 172)),#1 habt

    ((102, 98), (102, 172)),#2 habt

    ((150, 98), (150, 172)),#3 habt

    ((200, 98), (200, 172)),#4 habt

    ((53, 186), (53, 118)),#1 tal3

    ((105, 186), (105, 118)),#2 tal3
    
    ((153, 186), (153, 118)),#3 tal3

    ((203, 186), (203, 118)),#4 tal3




    

])

sim.create_gen({
    'vehicle_rate': 1/3,
    'vehicles': [
        [1, {"path": [0, 1, 2, 3, 4]}],
        [1, {"path": [13, 14, 15, 16, 17]}],
        [1, {"path": [18, 19, 20, 21, 22]}],
        [1, {"path": [23, 24, 25, 26, 27]}],
        [1, {"path": [28, 29, 30, 31, 32]}],
        [1, {"path": [33, 34, 35, 36, 37]}],
        [1, {"path": [46, 47, 48, 49, 50]}],
        [1, {"path": [51, 52, 53, 54, 55]}],
        [1, {"path": [56, 57, 58, 59, 60]}],
        [1, {"path": [61, 62, 63, 64, 65]}],
        [1, {"path": [5, 66, 6]}],
        [1, {"path": [7, 67, 8]}],
        [1, {"path": [9, 68, 10]}],
        [1, {"path": [11, 69, 12]}],
        [1, {"path": [38, 70, 39]}],
        [1, {"path": [40, 71, 41]}],
        [1, {"path": [42, 72, 43]}],
        [1, {"path": [44, 73, 45]}],
    ]
})

sim.create_signal([[0, 1, 2, 3, 13, 14, 15, 16, 18, 19, 20, 21, 23, 24, 25, 26, 28, 29, 30, 31, 33, 34, 35, 36, 46, 47, 48, 49, 51, 52, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64], [5, 7, 9, 11, 38, 40, 42, 44, 66, 67, 68, 69, 70, 71, 72, 73]])

# Start simulation
win = Window(sim)
win.offset = (-150, -150)
win.run(steps_per_update=5)